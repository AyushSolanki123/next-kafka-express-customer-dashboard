# Store Traffic Dashboard System

This is a full-stack application for monitoring customer traffic in retail stores. The system consists of a Next.js frontend and a Node.js backend that simulates Kafka events and stores data in MongoDB.

## System Architecture

![Architecture](https://via.placeholder.com/800x400?text=Store+Traffic+Dashboard+Architecture)

The system consists of two main components:

1. **Frontend (Next.js)**: A real-time dashboard showing live and historical customer traffic data
2. **Backend (Node.js)**: A server that simulates Kafka events, stores data in MongoDB, and provides real-time updates via Socket.IO

### Data Flow

1. Simulated Kafka events are generated by the backend server
2. Events are stored in MongoDB for persistence
3. Events are pushed to connected clients via Socket.IO
4. Frontend displays real-time updates and fetches historical data through REST API

## Getting Started

### Prerequisites

- Node.js 18+
- MongoDB (local or remote)
- npm or yarn

### Installation

#### Backend Setup

```bash
# Navigate to server directory
cd server

# Install dependencies
npm install

# Start the development server with mongo
npm run dev:with-mongo
```

#### Frontend Setup

```bash
# Navigate to client directory
cd client

# Install dependencies
npm install

# Start the development server
npm run dev
```

### Environment Configuration

#### Backend (.env)

```
PORT=8080
MONGO_URI=mongodb://localhost:27017/store-traffic
NODE_ENV=development
```

#### Frontend (.env.local)

```
NEXT_PUBLIC_API_URL=http://localhost:8080/api
NEXT_PUBLIC_SOCKET_URL=http://localhost:8080
```

## Features

- **Live Table:** Shows real-time updates of customers entering and leaving the store
- **History Table:** Displays hourly customer traffic data for the last 24 hours
- **Current Store Status:** Shows the current total number of customers in the store
- **MongoDB Integration:** Persists all customer traffic data
- **Kafka Simulation:** Mimics real-world event-driven architecture
- **Socket.IO:** Provides real-time data updates to connected clients

## Technologies Used

- **Frontend:** Next.js, React, TypeScript, Tailwind CSS, Socket.IO Client
- **Backend:** Node.js, Express, TypeScript, MongoDB, Mongoose, Socket.IO

## Development

Please refer to the README files in the client and server directories for more detailed information about each component.
